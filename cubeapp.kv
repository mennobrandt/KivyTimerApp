WindowManager:
    HomeWindow:
    TimerWindow:
    AlgsWindow:


<HomeWindow>:
    name: "home"

    GridLayout:
        size: root.width, root.height
        rows: 3
        center: root.width / 2, root.height / 2

        padding: 40
        spacing: 30

        canvas:
            Color:
                rgba: 0, 0, 0, 1
            Rectangle: 
                pos: self.pos
                size: self.size
        
        Image:
            source: "timer_logo.png"
            size: self.size
            pos: self.pos
        
        Button:
            text: "timer"
            size_hint: 0.8, 0.3
            font_size: '40sp'
            bold: True
                
            background_normal: ''
            background_color: 1, 1, 1, 1
            color: 0, 0, 0, 1

            on_release:
                app.root.current = "timer"
                root.manager.transition.direction = "left"

        Button:
            text: "algorithms"
            size_hint: 0.8, 0.3
            font_size: '40sp'
            bold: True

            background_normal: ''
            background_color: 1, 1, 1, 1
            color: 0, 0, 0, 1

            on_release:
                app.root.current = "algs"
                root.manager.transition.direction = "right"


<ScramblePopup>:
    padding: 25
    spacing: 30
    cols: 2
    row_default_height: '150sp'
    row_force_default: True
    
    Button:
        text: "new"
        size_hint: 0.5, 0.5
        bold: True
        background_normal: ''
        background_color: 1, 1, 1, 1
        color: 0, 0, 0, 1

        on_release:
            root.create_scramble()

    Label:
        text: root.scramble
        text_size: self.size
        font_size: '15sp'


<TimerWindow>:
    name: "timer"
    GridLayout:
        size: root.width, root.height
        cols: 1
        rows: 3
        padding: 40
        spacing: 100

        canvas:
            Color:
                rgba: 0, 0, 0, 1
            Rectangle: 
                pos: self.pos
                size: self.size

        GridLayout:
            row_default_height: '60sp'
            row_force_default: True
            spacing: 300
            cols: 2
            Button: 
                text: "back"
                font_size: "15sp"
                bold: True
                size_hint: 0.7, 1

                background_normal: ''
                background_color: 1, 1, 1, 1
                color: 0, 0, 0, 1
                

                on_release:
                    app.root.current = "home"
                    root.manager.transition.direction = "right"

            Button: 
                text: "scramble"
                font_size: '15sp'
                bold: True
                size_hint: 0.7, 1

                background_normal: ''
                background_color: 1, 1, 1, 1
                color: 0, 0, 0, 1
                

                on_release:
                    root.show_popup()

        Label:
            text: "time"
            font_size: '50sp'
        
        Button: 
            text: "start/stop"
            background_normal: ''
            background_color: 1, 1, 1, 1
            color: 0, 0, 0, 1


        
<AlgsWindow>:
    name: "algs"
    
    GridLayout:
        cols: 1
        
        Button:
            text: "Back"
            
            on_release:
                app.root.current = "home"
                root.manager.transition.direction = "left"